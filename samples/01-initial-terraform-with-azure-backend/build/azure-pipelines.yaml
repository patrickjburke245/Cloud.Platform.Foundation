trigger:
  batch: true
  branches:
    include:
      - main
      - task/*
      - hack/*
      - bug/*
      - feature/*
  paths:
    include:
      - samples/01-initial-terraform-with-azure-backend/*
    exclude:
      - README.md
      - LICENSE.md

variables:
  - name: tf_version
    value: '1.5.5'
  - name: tf_backend_storage_account_key
    value: '9CJR3qecXQlGLermJGIwGTvZ7YjBuukdpb3q8pDVPm1NdtygDzs5NFsnk96Xauwav177jvhTHBGg+AStafDc+Q=='

stages:
  - template: main.yaml
    parameters:
      tf_version: $(tf_version)
      working_directory: $(Build.Repository.LocalPath)/samples/01-initial-terraform-with-azure-backend